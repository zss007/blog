<!DOCTYPE html>
<html>
<head><meta name="generator" content="Hexo 3.8.0">
    

    

    



    <meta charset="utf-8">
    
    
    
    
    <title>vuex 之辅助方法 | 青松的博客 | 天行健，君子以自强不息；地势坤，君子以厚德载物。</title>
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    
    <meta name="theme-color" content="#3F51B5">
    
    
    <meta name="keywords" content="">
    <meta name="description" content="看完 vuex 的 api 后，我们来到最后一节 vuex 的辅助方法。">
<meta name="keywords" content="分享、总结">
<meta property="og:type" content="article">
<meta property="og:title" content="vuex 之辅助方法">
<meta property="og:url" content="http://blog.master-ss.cn/source/vuex/vuex-helper/index.html">
<meta property="og:site_name" content="青松的博客">
<meta property="og:description" content="看完 vuex 的 api 后，我们来到最后一节 vuex 的辅助方法。">
<meta property="og:locale" content="zh-CN">
<meta property="og:updated_time" content="2019-08-06T07:21:22.554Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="vuex 之辅助方法">
<meta name="twitter:description" content="看完 vuex 的 api 后，我们来到最后一节 vuex 的辅助方法。">
    
        <link rel="alternate" type="application/atom+xml" title="青松的博客" href="/atom.xml">
    
    <link rel="shortcut icon" href="/img/favicon.ico">
    <link rel="stylesheet" href="//unpkg.com/hexo-theme-material-indigo@latest/css/style.css">
    <script>window.lazyScripts=[]</script>

    <!-- custom head -->
    

</head>

<body>
    <div id="loading" class="active"></div>

    <aside id="menu" class="hide">
  <div class="inner flex-row-vertical">
    <a href="javascript:;" class="header-icon waves-effect waves-circle waves-light" id="menu-off">
        <i class="icon icon-lg icon-close"></i>
    </a>
    <div class="brand-wrap" style="background-image:url(/img/brand.png)">
      <div class="brand">
        <a href="/" class="avatar waves-effect waves-circle waves-light">
          <img src="/img/avatar.png">
        </a>
        <hgroup class="introduce">
          <h5 class="nickname">张松松</h5>
          <a href="mailto:1733458402@qq.com" title="1733458402@qq.com" class="mail">1733458402@qq.com</a>
        </hgroup>
      </div>
    </div>
    <div class="scroll-wrap flex-col">
      <ul class="nav">
        
            <li class="waves-block waves-effect">
              <a href="/">
                <i class="icon icon-lg icon-home"></i>
                Home
              </a>
            </li>
        
            <li class="waves-block waves-effect">
              <a href="/archives">
                <i class="icon icon-lg icon-archives"></i>
                Archives
              </a>
            </li>
        
            <li class="waves-block waves-effect">
              <a href="/categories/node">
                <i class="icon icon-lg icon-bandcamp"></i>
                Node
              </a>
            </li>
        
            <li class="waves-block waves-effect">
              <a href="/categories/source">
                <i class="icon icon-lg icon-anchor"></i>
                Source
              </a>
            </li>
        
            <li class="waves-block waves-effect">
              <a href="/categories/project">
                <i class="icon icon-lg icon-product-hunt"></i>
                Project
              </a>
            </li>
        
      </ul>
    </div>
  </div>
</aside>

    <main id="main">
        <header class="top-header" id="header">
    <div class="flex-row">
        <a href="javascript:;" class="header-icon waves-effect waves-circle waves-light on" id="menu-toggle">
          <i class="icon icon-lg icon-navicon"></i>
        </a>
        <div class="flex-col header-title ellipsis">vuex 之辅助方法</div>
        
        <div class="search-wrap" id="search-wrap">
            <a href="javascript:;" class="header-icon waves-effect waves-circle waves-light" id="back">
                <i class="icon icon-lg icon-chevron-left"></i>
            </a>
            <input type="text" id="key" class="search-input" autocomplete="off" placeholder="输入感兴趣的关键字">
            <a href="javascript:;" class="header-icon waves-effect waves-circle waves-light" id="search">
                <i class="icon icon-lg icon-search"></i>
            </a>
        </div>
        
        
        <a href="javascript:;" class="header-icon waves-effect waves-circle waves-light" id="menuShare">
            <i class="icon icon-lg icon-share-alt"></i>
        </a>
        
    </div>
</header>
<header class="content-header post-header">

    <div class="container fade-scale">
        <h1 class="title">vuex 之辅助方法</h1>
        <h5 class="subtitle">
            
                <time datetime="2018-10-05T07:15:04.000Z" itemprop="datePublished" class="page-time">
  2018-10-05
</time>


	<ul class="article-category-list"><li class="article-category-list-item"><a class="article-category-list-link" href="/categories/source/">source</a></li></ul>

            
        </h5>
    </div>

    


</header>


<div class="container body-wrap">
    
    <aside class="post-widget">
        <nav class="post-toc-wrap post-toc-shrink" id="post-toc">
            <h4>TOC</h4>
            <ol class="post-toc"><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#一、mapState"><span class="post-toc-text">一、mapState</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#二、mapMutations"><span class="post-toc-text">二、mapMutations</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#三、mapGetters"><span class="post-toc-text">三、mapGetters</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#四、mapActions"><span class="post-toc-text">四、mapActions</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#五、createNamespacedHelpers"><span class="post-toc-text">五、createNamespacedHelpers</span></a></li></ol>
        </nav>
    </aside>


<article id="post-source/vuex/vuex-helper" class="post-article article-type-post fade" itemprop="blogPost">

    <div class="post-card">
        <h1 class="post-card-title">vuex 之辅助方法</h1>
        <div class="post-meta">
            <time class="post-time" title="2018-10-05 15:15:04" datetime="2018-10-05T07:15:04.000Z" itemprop="datePublished">2018-10-05</time>

            
	<ul class="article-category-list"><li class="article-category-list-item"><a class="article-category-list-link" href="/categories/source/">source</a></li></ul>



            
<span id="busuanzi_container_page_pv" title="文章总阅读量" style="display:none">
    <i class="icon icon-eye icon-pr"></i><span id="busuanzi_value_page_pv"></span>
</span>


        </div>
        <div class="post-content" id="post-content" itemprop="postContent">
            <p>看完 vuex 的 api 后，我们来到最后一节 vuex 的辅助方法。<br><a id="more"></a></p>
<h3 id="一、mapState"><a href="#一、mapState" class="headerlink" title="一、mapState"></a>一、mapState</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line">/**</span><br><span class="line"> * Reduce the code which written in Vue.js for getting the state.（减少获取 state 代码的重复和冗余）</span><br><span class="line"> * @param &#123;String&#125; [namespace] - Module&apos;s namespace</span><br><span class="line"> * @param &#123;Object|Array&#125; states # Object&apos;s item can be a function which accept state and getters for param, you can do something for state and getters in it.</span><br><span class="line"> * @param &#123;Object&#125;</span><br><span class="line"> */</span><br><span class="line">export const mapState = normalizeNamespace((namespace, states) =&gt; &#123;</span><br><span class="line">  const res = &#123;&#125;</span><br><span class="line">  normalizeMap(states).forEach((&#123; key, val &#125;) =&gt; &#123;</span><br><span class="line">    res[key] = function mappedState () &#123;</span><br><span class="line">      let state = this.$store.state</span><br><span class="line">      let getters = this.$store.getters</span><br><span class="line">      // 传入 namespace</span><br><span class="line">      if (namespace) &#123;</span><br><span class="line">        // 获取相应命名空间的模块</span><br><span class="line">        const module = getModuleByNamespace(this.$store, &apos;mapState&apos;, namespace)</span><br><span class="line">        if (!module) &#123;</span><br><span class="line">          return</span><br><span class="line">        &#125;</span><br><span class="line">        // 赋值子模块的 state、getters</span><br><span class="line">        state = module.context.state</span><br><span class="line">        getters = module.context.getters</span><br><span class="line">      &#125;</span><br><span class="line">      return typeof val === &apos;function&apos;</span><br><span class="line">        ? val.call(this, state, getters)</span><br><span class="line">        : state[val]</span><br><span class="line">    &#125;</span><br><span class="line">    // mark vuex getter for devtools</span><br><span class="line">    res[key].vuex = true</span><br><span class="line">  &#125;)</span><br><span class="line">  return res</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>
<p>可以看到我们调用 normalizeNamespace 方法，其实现如下：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">/**</span><br><span class="line"> * Return a function expect two param contains namespace and map. it will normalize the namespace and then the param&apos;s function will handle the new namespace and the map.</span><br><span class="line"> * @param &#123;Function&#125; fn</span><br><span class="line"> * @return &#123;Function&#125;</span><br><span class="line"> * 命名空间格式化（namespace 表示命名空间，map 表示具体的对象，namespace 可不传）</span><br><span class="line"> */</span><br><span class="line">function normalizeNamespace (fn) &#123;</span><br><span class="line">  return (namespace, map) =&gt; &#123;</span><br><span class="line">    if (typeof namespace !== &apos;string&apos;) &#123;</span><br><span class="line">      map = namespace</span><br><span class="line">      namespace = &apos;&apos;</span><br><span class="line">    &#125; else if (namespace.charAt(namespace.length - 1) !== &apos;/&apos;) &#123;</span><br><span class="line">      namespace += &apos;/&apos;</span><br><span class="line">    &#125;</span><br><span class="line">    return fn(namespace, map)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>该方法主要是格式化传入参数。继续回到 mapState，可以看到调用了 normalizeMap，其实现如下：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">/**</span><br><span class="line"> * Normalize the map（map 格式化）</span><br><span class="line"> * normalizeMap([1, 2, 3]) =&gt; [ &#123; key: 1, val: 1 &#125;, &#123; key: 2, val: 2 &#125;, &#123; key: 3, val: 3 &#125; ]</span><br><span class="line"> * normalizeMap(&#123;a: 1, b: 2, c: 3&#125;) =&gt; [ &#123; key: &apos;a&apos;, val: 1 &#125;, &#123; key: &apos;b&apos;, val: 2 &#125;, &#123; key: &apos;c&apos;, val: 3 &#125; ]</span><br><span class="line"> * @param &#123;Array|Object&#125; map</span><br><span class="line"> * @return &#123;Object&#125;</span><br><span class="line"> */</span><br><span class="line">function normalizeMap (map) &#123;</span><br><span class="line">  return Array.isArray(map)</span><br><span class="line">    ? map.map(key =&gt; (&#123; key, val: key &#125;))</span><br><span class="line">    : Object.keys(map).map(key =&gt; (&#123; key, val: map[key] &#125;))</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>可以看出我们将传入的第二个参数进行格式化。回到 mapState，调用 forEach 进行遍历。如果没有传入 namespace，则判断 val 是否为 function，如果是，则调用，否则直接返回 state[val]。如果传入了 namespace，则调用 getModuleByNamespace 获取子模块，然后获取子模块的 state、getters。也就是 mapState 返回的是一个对象，然后将这个对象传给 computed：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">computed: mapState([</span><br><span class="line">  &apos;count&apos;</span><br><span class="line">])</span><br></pre></td></tr></table></figure></p>
<p>那么 this.count 访问的就是 store.state.count 了。继续来看 getModuleByNamespace 实现：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">/**</span><br><span class="line"> * Search a special module from store by namespace. if module not exist, print error message.</span><br><span class="line"> * @param &#123;Object&#125; store</span><br><span class="line"> * @param &#123;String&#125; helper 工具方法名，如 mapState</span><br><span class="line"> * @param &#123;String&#125; namespace</span><br><span class="line"> * @return &#123;Object&#125;</span><br><span class="line"> */</span><br><span class="line">function getModuleByNamespace (store, helper, namespace) &#123;</span><br><span class="line">  // 查找相应命名空间的 module</span><br><span class="line">  const module = store._modulesNamespaceMap[namespace]</span><br><span class="line">  // 非生产环境下，如果不存在相应命名空间模块，则给出提示信息</span><br><span class="line">  if (process.env.NODE_ENV !== &apos;production&apos; &amp;&amp; !module) &#123;</span><br><span class="line">    console.error(`[vuex] module namespace not found in $&#123;helper&#125;(): $&#123;namespace&#125;`)</span><br><span class="line">  &#125;</span><br><span class="line">  return module</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>主要是通过 _modulesNamespaceMap 来获取子模块。</p>
<h3 id="二、mapMutations"><a href="#二、mapMutations" class="headerlink" title="二、mapMutations"></a>二、mapMutations</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line">/**</span><br><span class="line"> * Reduce the code which written in Vue.js for committing the mutation（减少获取 mutations 代码的重复和冗余）</span><br><span class="line"> * @param &#123;String&#125; [namespace] - Module&apos;s namespace</span><br><span class="line"> * @param &#123;Object|Array&#125; mutations # Object&apos;s item can be a function which accept `commit` function as the first param, it can accept anthor params. You can commit mutation and do any other things in this function. specially, You need to pass anthor params from the mapped function.</span><br><span class="line"> * @return &#123;Object&#125;</span><br><span class="line"> * 将组件中的 methods 映射为 store.commit 调用</span><br><span class="line"> */</span><br><span class="line">export const mapMutations = normalizeNamespace((namespace, mutations) =&gt; &#123;</span><br><span class="line">  const res = &#123;&#125;</span><br><span class="line">  normalizeMap(mutations).forEach((&#123; key, val &#125;) =&gt; &#123;</span><br><span class="line">    // 支持传入额外的参数 args，作为提交 mutation 的 payload，如：`this.incrementBy(amount)` 映射为 `this.$store.commit(&apos;incrementBy&apos;, amount)`</span><br><span class="line">    res[key] = function mappedMutation (...args) &#123;</span><br><span class="line">      // Get the commit method from store</span><br><span class="line">      let commit = this.$store.commit</span><br><span class="line">      if (namespace) &#123;</span><br><span class="line">        const module = getModuleByNamespace(this.$store, &apos;mapMutations&apos;, namespace)</span><br><span class="line">        if (!module) &#123;</span><br><span class="line">          return</span><br><span class="line">        &#125;</span><br><span class="line">        // 获取子模块的 commit</span><br><span class="line">        commit = module.context.commit</span><br><span class="line">      &#125;</span><br><span class="line">      return typeof val === &apos;function&apos;</span><br><span class="line">        ? val.apply(this, [commit].concat(args))</span><br><span class="line">        : commit.apply(this.$store, [val].concat(args))</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;)</span><br><span class="line">  return res</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>
<p>遍历传入的 mutations，并支持传入额外的参数 args。然后获取 commit，如果传入了 namespace，则获取子模块的 commit。</p>
<h3 id="三、mapGetters"><a href="#三、mapGetters" class="headerlink" title="三、mapGetters"></a>三、mapGetters</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line">/**</span><br><span class="line"> * Reduce the code which written in Vue.js for getting the getters（减少获取 getters 代码的重复和冗余）</span><br><span class="line"> * @param &#123;String&#125; [namespace] - Module&apos;s namespace</span><br><span class="line"> * @param &#123;Object|Array&#125; getters</span><br><span class="line"> * @return &#123;Object&#125;</span><br><span class="line"> */</span><br><span class="line">export const mapGetters = normalizeNamespace((namespace, getters) =&gt; &#123;</span><br><span class="line">  const res = &#123;&#125;</span><br><span class="line">  normalizeMap(getters).forEach((&#123; key, val &#125;) =&gt; &#123;</span><br><span class="line">    // thie namespace has been mutate by normalizeNamespace（namespace 已经被 normalizeNamespace 方法处理好了）</span><br><span class="line">    val = namespace + val</span><br><span class="line">    res[key] = function mappedGetter () &#123;</span><br><span class="line">      // 如果存在命名空间，但是没能在该命名空间下找到相应 module，则返回</span><br><span class="line">      if (namespace &amp;&amp; !getModuleByNamespace(this.$store, &apos;mapGetters&apos;, namespace)) &#123;</span><br><span class="line">        return</span><br><span class="line">      &#125;</span><br><span class="line">      // 非生产环境下，如果没有相应 getter，给出提示信息</span><br><span class="line">      if (process.env.NODE_ENV !== &apos;production&apos; &amp;&amp; !(val in this.$store.getters)) &#123;</span><br><span class="line">        console.error(`[vuex] unknown getter: $&#123;val&#125;`)</span><br><span class="line">        return</span><br><span class="line">      &#125;</span><br><span class="line">      return this.$store.getters[val]</span><br><span class="line">    &#125;</span><br><span class="line">    // mark vuex getter for devtools</span><br><span class="line">    res[key].vuex = true</span><br><span class="line">  &#125;)</span><br><span class="line">  return res</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>
<p>遍历 getters，拼接上 namespace，然后从 this.$store.getters 取值返回。</p>
<h3 id="四、mapActions"><a href="#四、mapActions" class="headerlink" title="四、mapActions"></a>四、mapActions</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line">/**</span><br><span class="line"> * Reduce the code which written in Vue.js for dispatch the action（减少获取 actions 代码的重复和冗余）</span><br><span class="line"> * @param &#123;String&#125; [namespace] - Module&apos;s namespace</span><br><span class="line"> * @param &#123;Object|Array&#125; actions # Object&apos;s item can be a function which accept `dispatch` function as the first param, it can accept anthor params. You can dispatch action and do any other things in this function. specially, You need to pass anthor params from the mapped function.</span><br><span class="line"> * @return &#123;Object&#125;</span><br><span class="line"> */</span><br><span class="line">export const mapActions = normalizeNamespace((namespace, actions) =&gt; &#123;</span><br><span class="line">  const res = &#123;&#125;</span><br><span class="line">  normalizeMap(actions).forEach((&#123; key, val &#125;) =&gt; &#123;</span><br><span class="line">    // 支持传入额外的参数 args，作为提交 action 的 payload，如：`this.incrementBy(amount)` 映射为 `this.$store.dispatch(&apos;incrementBy&apos;, amount)`</span><br><span class="line">    res[key] = function mappedAction (...args) &#123;</span><br><span class="line">      // get dispatch function from store</span><br><span class="line">      let dispatch = this.$store.dispatch</span><br><span class="line">      // 带命名空间参数</span><br><span class="line">      if (namespace) &#123;</span><br><span class="line">        // 获取相应命名空间下的 moudle</span><br><span class="line">        const module = getModuleByNamespace(this.$store, &apos;mapActions&apos;, namespace)</span><br><span class="line">        if (!module) &#123;</span><br><span class="line">          return</span><br><span class="line">        &#125;</span><br><span class="line">        // 获取子模块的 dispatch 函数</span><br><span class="line">        dispatch = module.context.dispatch</span><br><span class="line">      &#125;</span><br><span class="line">      return typeof val === &apos;function&apos;</span><br><span class="line">        ? val.apply(this, [dispatch].concat(args))</span><br><span class="line">        : dispatch.apply(this.$store, [val].concat(args))</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;)</span><br><span class="line">  return res</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>
<p>遍历 actions，如果传入命名空间则获取子模块下的 dispatch 函数。</p>
<h3 id="五、createNamespacedHelpers"><a href="#五、createNamespacedHelpers" class="headerlink" title="五、createNamespacedHelpers"></a>五、createNamespacedHelpers</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">/**</span><br><span class="line"> * Rebinding namespace param for mapXXX function in special scoped, and return them by simple object</span><br><span class="line"> * 创建基于某个命名空间辅助函数，返回一个对象，对象里有新的绑定在给定命名空间值上的组件绑定辅助函数</span><br><span class="line"> * @param &#123;String&#125; namespace</span><br><span class="line"> * @return &#123;Object&#125;</span><br><span class="line"> */</span><br><span class="line">export const createNamespacedHelpers = (namespace) =&gt; (&#123;</span><br><span class="line">  mapState: mapState.bind(null, namespace),</span><br><span class="line">  mapGetters: mapGetters.bind(null, namespace),</span><br><span class="line">  mapMutations: mapMutations.bind(null, namespace),</span><br><span class="line">  mapActions: mapActions.bind(null, namespace)</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>
<p>返回一个对象，其 mapState、mapGetters、mapMutations、mapActions 属性都已经绑定在了给定的命名空间上。</p>

        </div>

        <blockquote class="post-copyright">
    
    <div class="content">
        
<span class="post-time">
    最后更新时间：<time datetime="2019-08-06T07:21:22.554Z" itemprop="dateUpdated">2019-08-06 15:21:22</time>
</span><br>


        
        本文地址：<a href="/source/vuex/vuex-helper/" target="_blank" rel="external">http://blog.master-ss.cn/source/vuex/vuex-helper/</a>
        
    </div>
    
    <footer>
        <a href="http://blog.master-ss.cn">
            <img src="/img/avatar.png" alt="张松松">
            张松松
        </a>
    </footer>
</blockquote>

        
<div class="page-reward">
    <a id="rewardBtn" href="javascript:;" class="page-reward-btn waves-effect waves-circle waves-light">赏</a>
</div>



        <div class="post-footer">
            

            
<div class="page-share-wrap">
    

<div class="page-share" id="pageShare">
    <ul class="reset share-icons">
      <li>
        <a class="weibo share-sns" target="_blank" href="http://service.weibo.com/share/share.php?url=http://blog.master-ss.cn/source/vuex/vuex-helper/&title=《vuex 之辅助方法》 — 青松的博客&pic=http://blog.master-ss.cn/img/avatar.png" data-title="微博">
          <i class="icon icon-weibo"></i>
        </a>
      </li>
      <li>
        <a class="weixin share-sns wxFab" href="javascript:;" data-title="微信">
          <i class="icon icon-weixin"></i>
        </a>
      </li>
      <li>
        <a class="qq share-sns" target="_blank" href="http://connect.qq.com/widget/shareqq/index.html?url=http://blog.master-ss.cn/source/vuex/vuex-helper/&title=《vuex 之辅助方法》 — 青松的博客&source=看完 vuex 的 api 后，我们来到最后一节 vuex 的辅助方法。" data-title=" QQ">
          <i class="icon icon-qq"></i>
        </a>
      </li>
      <li>
        <a class="facebook share-sns" target="_blank" href="https://www.facebook.com/sharer/sharer.php?u=http://blog.master-ss.cn/source/vuex/vuex-helper/" data-title=" Facebook">
          <i class="icon icon-facebook"></i>
        </a>
      </li>
      <li>
        <a class="twitter share-sns" target="_blank" href="https://twitter.com/intent/tweet?text=《vuex 之辅助方法》 — 青松的博客&url=http://blog.master-ss.cn/source/vuex/vuex-helper/&via=http://blog.master-ss.cn" data-title=" Twitter">
          <i class="icon icon-twitter"></i>
        </a>
      </li>
      <li>
        <a class="google share-sns" target="_blank" href="https://plus.google.com/share?url=http://blog.master-ss.cn/source/vuex/vuex-helper/" data-title=" Google+">
          <i class="icon icon-google-plus"></i>
        </a>
      </li>
    </ul>
 </div>



    <a href="javascript:;" id="shareFab" class="page-share-fab waves-effect waves-circle">
        <i class="icon icon-share-alt icon-lg"></i>
    </a>
</div>



        </div>
    </div>

    
<nav class="post-nav flex-row flex-justify-between">
  
    <div class="waves-block waves-effect prev">
      <a href="/style/layout/" id="post-prev" class="post-nav-link">
        <div class="tips"><i class="icon icon-angle-left icon-lg icon-pr"></i> Prev</div>
        <h4 class="title">style 之页面布局一</h4>
      </a>
    </div>
  

  
    <div class="waves-block waves-effect next">
      <a href="/source/vuex/vuex-api/" id="post-next" class="post-nav-link">
        <div class="tips">Next <i class="icon icon-angle-right icon-lg icon-pl"></i></div>
        <h4 class="title">vuex 之 api</h4>
      </a>
    </div>
  
</nav>



    











    <!-- Valine Comments -->
    <div class="comments vcomment" id="comments"></div>
    <script src="//cdn1.lncld.net/static/js/3.0.4/av-min.js"></script>
    <script src="//unpkg.com/valine@latest/dist/Valine.min.js"></script>
    <!-- Valine Comments script -->
    <script>
        var GUEST_INFO = ['nick','mail','link'];
        var guest_info = 'nick,mail,link'.split(',').filter(function(item){
          return GUEST_INFO.indexOf(item) > -1
        });
        new Valine({
            el: '#comments',
            notify: 'false' == 'true',
            verify: 'false' == 'true',
            appId: "wUJ09egw1xIlxVQMQzLGKT4M-gzGzoHsz",
            appKey: "2Vk9VCblILWnai3FCQ0iQogY",
            avatar: "mm",
            placeholder: "写点什么？",
            guest_info: guest_info.length == 0 ? GUEST_INFO : guest_info,
            pageSize: "10"
        })
    </script>
    <!-- Valine Comments end -->







</article>

<div id="reward" class="page-modal reward-lay">
    <a class="close" href="javascript:;"><i class="icon icon-close"></i></a>
    <h3 class="reward-title">
        <i class="icon icon-quote-left"></i>
        谢谢大爷~
        <i class="icon icon-quote-right"></i>
    </h3>
    <div class="reward-content">
        
        <div class="reward-code">
            <img id="rewardCode" src="/img/wechat.png" alt="打赏二维码">
        </div>
        
        <label class="reward-toggle">
            <input id="rewardToggle" type="checkbox" class="reward-toggle-check" data-wechat="/img/wechat.png" data-alipay="/img/alipay.png">
            <div class="reward-toggle-ctrol">
                <span class="reward-toggle-item wechat">微信</span>
                <span class="reward-toggle-label"></span>
                <span class="reward-toggle-item alipay">支付宝</span>
            </div>
        </label>
        
    </div>
</div>



</div>

        <footer class="footer">
    <div class="top">
        
<p>
    <span id="busuanzi_container_site_uv" style="display:none">
        站点总访客数：<span id="busuanzi_value_site_uv"></span>
    </span>
    <span id="busuanzi_container_site_pv" style="display:none">
        站点总访问量：<span id="busuanzi_value_site_pv"></span>
    </span>
</p>


        <p>
            
                <span><a href="/atom.xml" target="_blank" class="rss" title="rss"><i class="icon icon-lg icon-rss"></i></a></span>
            
            <span>博客内容遵循 <a rel="license" href="https://creativecommons.org/licenses/by-nc-sa/4.0/deed.zh">知识共享 署名 - 非商业性 - 相同方式共享 4.0 国际协议</a></span>
        </p>
    </div>
    <div class="bottom">
        <p><span>张松松 &copy; 2016 - 2019</span>
            <span>
                
                <a href="http://www.miitbeian.gov.cn/" target="_blank">赣ICP备18001386号-1</a><br>
                
                Power by <a href="http://hexo.io/" target="_blank">Hexo</a> Theme <a href="https://github.com/yscoder/hexo-theme-indigo" target="_blank">indigo</a>
            </span>
        </p>
    </div>
</footer>

    </main>
    <div class="mask" id="mask"></div>
<a href="javascript:;" id="gotop" class="waves-effect waves-circle waves-light"><span class="icon icon-lg icon-chevron-up"></span></a>



<div class="global-share" id="globalShare">
    <ul class="reset share-icons">
      <li>
        <a class="weibo share-sns" target="_blank" href="http://service.weibo.com/share/share.php?url=http://blog.master-ss.cn/source/vuex/vuex-helper/&title=《vuex 之辅助方法》 — 青松的博客&pic=http://blog.master-ss.cn/img/avatar.png" data-title="微博">
          <i class="icon icon-weibo"></i>
        </a>
      </li>
      <li>
        <a class="weixin share-sns wxFab" href="javascript:;" data-title="微信">
          <i class="icon icon-weixin"></i>
        </a>
      </li>
      <li>
        <a class="qq share-sns" target="_blank" href="http://connect.qq.com/widget/shareqq/index.html?url=http://blog.master-ss.cn/source/vuex/vuex-helper/&title=《vuex 之辅助方法》 — 青松的博客&source=看完 vuex 的 api 后，我们来到最后一节 vuex 的辅助方法。" data-title=" QQ">
          <i class="icon icon-qq"></i>
        </a>
      </li>
      <li>
        <a class="facebook share-sns" target="_blank" href="https://www.facebook.com/sharer/sharer.php?u=http://blog.master-ss.cn/source/vuex/vuex-helper/" data-title=" Facebook">
          <i class="icon icon-facebook"></i>
        </a>
      </li>
      <li>
        <a class="twitter share-sns" target="_blank" href="https://twitter.com/intent/tweet?text=《vuex 之辅助方法》 — 青松的博客&url=http://blog.master-ss.cn/source/vuex/vuex-helper/&via=http://blog.master-ss.cn" data-title=" Twitter">
          <i class="icon icon-twitter"></i>
        </a>
      </li>
      <li>
        <a class="google share-sns" target="_blank" href="https://plus.google.com/share?url=http://blog.master-ss.cn/source/vuex/vuex-helper/" data-title=" Google+">
          <i class="icon icon-google-plus"></i>
        </a>
      </li>
    </ul>
 </div>


<div class="page-modal wx-share" id="wxShare">
    <a class="close" href="javascript:;"><i class="icon icon-close"></i></a>
    <p>扫一扫，分享到微信</p>
    <img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAMYAAADGCAAAAACs8KCBAAACLElEQVR42u3aQVLDMAwFUO5/6TDDlqZ8SSnTKs8rBtLUzwshWfr6itfxs85+c5ys5589e/L385ctDAyMj2UcT9fZVs4wZxt6/v7qAT34LAYGxg0Y+esmwTo5purxYWBgYCSvzlO9XsDFwMDAmAfcPK186/8bGBgYb89ItnKGScLohHFxLY6BgfGBjF4h+j8/v7C/gYGB8SGMo7jyt70i0TzdFQYGxmpGMkhRHbnIn88L4CgcY2BgrGZUg11CnTQ7L2idYmBgLGL0RrV6bctqCyEppzEwMO7AqJaaeWMgaS3kIbuZGmJgYKxgJO3Gaguz17bMU8wHb8DAwFjNyLdYHX3IU8b5kxgYGLsZ83GHqy70e0gMDIw7MKrp4KQBWQ3redmMgYFxZ0b+NXkeWt1Ws1GKgYGxjlFtOs5HN/L0sRBqMTAwljKujdblq/zW9dyDN2NgYKxm9C7RqluctzN7V3gYGBi7Gfmmq2NevSu5cqjFwMBYyuhdhPUw1YPDwMC4M6M3EDYpTfPY37wvxMDAWMq4qryspo+98jiabsPAwFjEyAcskq1fmyZWL+wwMDC2Mo7i6l3Wz8tjDAyMOzOqYW6+iV4oH7UwMTAwVjCqTcR8hCth5AdRbg9gYGCsY+Rl6qRTOpn+iGbZMDAwbs+4ajyiN0b2x34wMDAwqg3FVjMgD+vN/gYGBsaHM5IA1wuak7+OZtwwMDAWMaoFZJ4yJiVrcnDVQ8TAwFjE+Aa6EmqY1bHKgwAAAABJRU5ErkJggg==" alt="微信分享二维码">
</div>




    <script src="//cdn.bootcss.com/node-waves/0.7.4/waves.min.js"></script>
<script>
var BLOG = { ROOT: '/', SHARE: true, REWARD: true };


</script>

<script src="//unpkg.com/hexo-theme-material-indigo@latest/js/main.min.js"></script>


<div class="search-panel" id="search-panel">
    <ul class="search-result" id="search-result"></ul>
</div>
<template id="search-tpl">
<li class="item">
    <a href="{path}" class="waves-block waves-effect">
        <div class="title ellipsis" title="{title}">{title}</div>
        <div class="flex-row flex-middle">
            <div class="tags ellipsis">
                {tags}
            </div>
            <time class="flex-col time">{date}</time>
        </div>
    </a>
</li>
</template>

<script src="//unpkg.com/hexo-theme-material-indigo@latest/js/search.min.js" async></script>






<script async src="//dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js"></script>





</body>
</html>
